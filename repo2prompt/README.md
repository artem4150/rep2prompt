# Repo2Prompt Frontend

Интерфейс для экспорта GitHub‑репозитория в ZIP/Markdown/TXT форматы. Поддерживаются фильтры по маскам, предпросмотр файлов, оценка объёма и отслеживание выполнения экспорта.

## Быстрый старт

```bash
npm install
npm run dev
```

Приложение поднимается на http://localhost:3000. В режиме разработки автоматически запускается MSW с моками API.

## Настройки окружения

| Переменная               | Назначение                                    |
|-------------------------|-----------------------------------------------|
| `NEXT_PUBLIC_API_BASE`  | Базовый URL бэкенда (например, http://localhost:5232) |

## Скрипты

- `npm run dev` — запуск дев-сервера (с моками MSW).
- `npm run build` — production-сборка.
- `npm start` — запуск собранного приложения.
- `npm run lint` — проверка eslint.
- `npm run test` — unit-тесты (Vitest + Testing Library).
- `npm run test:e2e` — e2e-сценарий (Playwright, автоматический старт dev-сервера).

## Пользовательский сценарий

1. На лендинге вводим GitHub URL — вызывается `resolveRepo` и сохраняются owner/repo/ref.
2. Экран **Analyze**: выбор ветки, карточки метрик, предупреждения (LFS/Submodules).
3. Экран **Select**: виртуализованное дерево, маски include/exclude, предпросмотр файлов, счётчик выбранных путей.
4. Экран **Export**: настройки формата/профиля, лимиты, создание задачи экспорта.
5. Экран **Jobs**: прогресс по стадиям, возможность отмены.
6. Экран **Result**: список артефактов с TTL и ссылками на скачивание.

## Особенности

- Унифицированный вывод ошибок с локализацией (RU/EN).
- Маски поддерживают `*`, `**`, `?`; пресеты по популярным стекам.
- Большие деревья сокращаются до 1000 узлов с подсказкой.
- Настройки формата/масок/профиля и выбранный язык сохраняются в `localStorage`.
- В разработке используется MSW, поэтому сценарий happy-path доступен без реального бэкенда.